# 네트워크 프로그래밍 기말정리
## 네트워크 계층
## IPv6 프로토콜

### > IPv6의 주요 변경 사항
- 주소 공간 확장
    - ***송신 호스트와 수신 호스트의 주소를 표시하는 공간이 32비트에서 128비트로 확장***
- 헤더 구조 단순화
    - 불필요한 필드가 제외되거나 확장 헤더 형식으로 변경
        - 기존의 IP 프로토콜에서 과도하게 수행되는 오류 제어와 같은 오버헤드를 줄여 프로토콜의 전송 효율을 높이기 위함
- 흐름 제어 기능 지원
    - 하나의 연속 스트림으로 전송해야 하는 연관 패킷의 전송기능을 지원함으로써, 실시간 기능이 필요한 멀티미디어 응용환경을 수용할 수 있음
    
### > IPv6의 헤더 구조는 IPv4보다 매우 단순해 9개의 기본 필드를 지원함
### > IPv6의 **기본 헤더와 확장 헤더**로 나뉨
- 그림 [8-1]은 크기가 고정된 기본 헤더의 구조이며, 상단의 숫자는 크기를 나타내는 비트 번호

![image](https://user-images.githubusercontent.com/85292541/206507330-c9e89d20-40fe-42da-804b-23cc124c5517.png)

## IPv6 헤더 구조
### > 확장 헤더의 종류
- **Hop-by-Hop Options Header**
- **Routing Header**
- **Fragment Header**
- **Destination Options Header**
- **Authentication Header**
- **Encapsulating Security Payload Header**

### > DS/ECN 필드
  - 차등 서비스가 도입되면서 6비트의 DS 필드와 2비티의 ECN 필드가 정의

### > Flow Label 필드
  - IPv6에서는 특정 송수신 호스트 사이에 전송되는 데이터를 **하나의 흐름으로 정의해** 중간 라우터가 이 패킷을 특별한 기준으로 처리할 수 있도록 지원
  - Flow Label 필드 기본 원칙
      - Flow Label 필드를 지원하지 않는 호스트나 라우터에서는 IPv6 패킷을 생성할 때 반드시 0으로 지정해야 함
![image](https://user-images.githubusercontent.com/85292541/206512166-8275591b-d50b-4f0f-9216-095d59ddf0e0.png)
      - **Flow Label 필드 값은 최대 범위 내에서 랜덤하게 선택**

### > 기타 필드
  - IPv6의 기본 헤더의 정의된 나머지 필드
![image](https://user-images.githubusercontent.com/85292541/206512759-d1706ef9-7e1a-4721-8eb4-805ad03e30e3.png)

## IPv6 주소
### > 주소 표현
- IPv4에서는 8비트 단위의 숫자 4개를 점(.)으로 구분하여 211.223.201.30과 같이 표현
- 그러나 IPv6에서 지원하는 128비트의 숫자는 아주 커 [그림 8-2]와 같이 16비트의 숫자 8개를 콜론(:)으로 구분
![image](https://user-images.githubusercontent.com/85292541/206515879-8e8dae83-e409-49c5-8bbd-114f2e787b60.png)
    - 예) D1D1:1111:3F3F:1700:4545:1212:1111:1231처럼 표현 가능
    - IPv6 주소 IPv6 Address는 아주 커 일일이 표기하기 불편하므로 축약해 표시하는 방안도 만들어지고 있음
    
### > 주소 공간
- IPv6의 주소 공간은 표와 같이 주소대별로 용도가 다름
- 상위 8비트가 0000 0000으로 시작하는 첫 번째 예약공간에는 **IPv4의 주소 공간도** 포함

|상위 비트|용도|
|:--|:--|
|0000 0000|예약(IPv6 공간 지원 포함)|
|0000 0001|비할당|
|0000 001|OSI NSAP 주소 공간|
|0000 010|Novell NetWare IPX 주소 공간|
|0000 011|비할당|
|0000 01|비할당|
|0001|비할당|
|001|유니캐스트 주소 공간|
|010|비할당|
|011|비할당|
|100|비할당|
|101|비할당|
|110|비할당|
|1110|비할당|
|1111 0|비할당|
|1111 10|비할당|
|1111 110|비할당|
|1111 1110 0|비할당|
|1111 1110 10|Link 지역 주소 공간|
|1111 1110 11|Site 지역 주소 공간|
|1111 1111|멀티캐스트 주소 공간|
