# 네트워크 기말 정리
## 웹(WWW)
### > 웹의 구조
- 전세계적으로 웹 서버의 TCP 포트 번호는 80번으로도 지정되어 있음
- 클라이언트에 해당하는 웹 브라우저는 이 포트 번호를 이용해 서버와 연결을 시도
- 웹 서버와 연결이 설정되면, 클라이언트의 정보 요구에 대해 서버가 웹 문서를 회신하는 방식으로 응답
- 서버가 전송한 문서 내용은 클라이언트의 웹 브라우저를 통해 사용자 화면에 표시

## 클라이언트 서버 모델
### > URL
- 클라이언트가 웹 서버를 지칭할 때 사용하는 주소
- URL 주소는 사용하는 프로토콜, 연결하고자 하는 서버의 호스트 이름, 서부 내부의 파일 경로명이라는 세 부분으로 표현
  - **예)**
    - URL 주소는 HTTP라는 프로토콜을 사용하여 www.Korea.co.kr이라는 웹 서버에 존재하는 Welcome.html 파일을 요청
    - 명시적으로도 표현되지 않았지만, 웹 서비스는 포트 번호 80번을 사용
- **HTTP**
  - 클라이언트의 요청과 서버의 응답 정보를 전송하기 위한 목적으로 구현된 프로토콜
  - [그림 13-1]은 웹 서비스 환경에서 클라이언트와 서버 사이에 데이터가 전송되는 과정을 설명
![image](https://user-images.githubusercontent.com/85292541/206765054-b8b081c4-8c5e-4e1a-a65d-17652250047a.png)

### > HTTP의 요청과 응답
- RFC 2616으로 발표된 HTTP 1.1 버전은 클라이언트의 요청과 서버의 응답에 의해 동작하는 아주 간단한 프로토콜
- 동작 원리
  - HTTP 클라이언트가 서버에 요청을 전송
  - 요청 내용에는 프로토콜 명령에 해당하는 요청 메서드, URL, HTTP 버전이 포함
  - 기타 클라이언트의 요청과 관련된 부가 정보도 포함
  - HTTP 서버는 요청의 처리 결과를 의미하는 응답 코드가 포함된상태 정보를 회신
  - 클라이언트가 요청한 결과물이나 기타 정보도 함께 회신
- 비상태 연결
  - 클라이언트와 서버 간의 요청과 응답이 전송되는 과정
  
  ![image](https://user-images.githubusercontent.com/85292541/206767915-123a2ae0-9750-42d3-8728-c5e561bb9097.png)
### > MIME 유사 메시지
- HTTP의 요청·응답 메시지는 MIME 유사 구조를 사용해 데이터를 전송
- 즉, 웹 브라우저에서 발생하는 모든 메시지는 MIME 개체와 거의 유사하게 표현되며, 서버에서 전송된 데이터도 MIME 개체로 표현
- HTTP에서 말하는 MIME 유사 개체와 RFC 2045에 기술된 MIME 개체의 큰 차이는 HTTP의 MIME 유사 개체에 Content-Length라는 헤더 필드가 존재한다는 것

### > 요청 메시지
- 클라이언트가 서버에 보내는 요청 메시지는 [그림 13-4]와 같이 요청문, 헤더, 바디로 구성
- 요청문의 내용은 <요청 메소드>, <URL>, <HTTP 버전>의 세 부분으로 구성
  
 ![image](https://user-images.githubusercontent.com/85292541/206769023-9ce86290-87a2-4d08-a3c4-359d3f9d3861.png)
- 요청 메서드에는 클라이언트가 서버에 실행을 요구하는 명령을 기술

|명령|설명|
|:--|:--|
|GET|클라이언트가 서버에 URL이 가르키는 웹 문서의 내용을 전송하도록 요구한다. 문서 내용은 서버가 회신하는 응답 메시지의 바디에 포함된다.|
|HEAD|문서 내용보다는 특정 문서의 정보를 원할 떄 사용한다.|
|POST|클라이언트가 서버에 정보를 전송할 수 있도록 해준다. 보통 게시판, 방명록처럼 사용자가 입력한 정보를 서버에게 전달하는 용도로 사용한다.|
|PUT|클라이언트가 서버에 문서를 전달하려고 사용한다. 문서 내용은 바디에 포함된다.|
  - **예)**
    - 클라이언트의 요청문을 다음과 같이 작성하면 요청 메소드는 GET, URL /, HTTP 버전은 HTTP/1.1
    - 웹 서버의 최상위(/)에 위치한 자원을 얻고자 하며, 클라이언트가 HTTP 버전 1.1을 지원함을 알 수 있음
 
### > 응답 메시지
 - 클라이언트로부터 요청 메시지를 수신한 서버는 해당 요구를 처리한 후에 그 결과를 응답 메시지 형식으로 회신
 - 응답 메시지의 구조는 요청 메시지와 거의 동일
 - 요청문 대신 처리 결과를 의미하는 상태문이라는 용어를 사용
 
 ![image](https://user-images.githubusercontent.com/85292541/206771507-ed383914-d44c-4aac-95ab-275cae124b47.png)
- HTTP에 정의된 주요 상태 코드
![image](https://user-images.githubusercontent.com/85292541/206771639-c0b9c046-008f-4b64-83da-725da1322734.png)

### > 요청 메시지
- HTTP 클라이언트가 전송하는 메시지를 [예제 13-6]과 같은 형식으로 작성할 있음
  - HTTP 클라이언트는 임의의 호스트이며, HTTP 서버는 uu.ac.kr이라 가정함
  - 요청 메시지에는 요청문, 헤더와 함께 공백 한 줄이 있으며, 바디는 존재하지 않음
  ![image](https://user-images.githubusercontent.com/85292541/206774840-94eda77d-2f5d-4cb1-8b86-d0e77f6b24b9.png)

### > 응답 메시지
  - 요청 메시지를 수신한 HTTP 서버 uu.ac.kr이 회신하는 응답 메시지는 [예제13-7]
    - 첫 줄의 HTTP/1.1 200 OK는 상태문
    - 이후 5줄의 헤더와 한 줄의 공백에 이어서 <HTML>로 시작하는 웹 문서의 내용이 기록된 바디 위치
![image](https://user-images.githubusercontent.com/85292541/206776162-564bf15f-8b81-4251-81c7-83d4f36cfe67.png)

## CGI
- HTML로 웹 문서를 작성하면 클라이언트에서 실행되는 웹 브라우저는 서버의 정보를 일방적으로 받아들이는 단방향 통신으로 동작
- 사용자가 입력하는 정보를 처리하려면 CGI 기능이 필요
- CGI 는 C, C++, 셸(Shell), 펄(Perl) 등과 같은 언어로 작성되어 서버에서 실행되는 프로그램
  
  - 웹 서버와 CGI 프로그램으로 구현된 서버의 컴퓨팅 환경(예 데이터베이스)이 클라이언트와 어떤 관계인지를 설명
  ![image](https://user-images.githubusercontent.com/85292541/206777285-af1b786c-954b-4cd6-96f7-5ad0e1d146a8.png)
- HTML 문서에서 사용자의 입력을 서버로 전달하는 기능은 `<FORM>` 태그를 이용해 구현
  
  ![image](https://user-images.githubusercontent.com/85292541/206778312-a0fd6e24-4466-49fb-bbaf-fc430a593a9e.png)
- 웹 브라우저 화면에 사용자 정보의 입력 형식을 표시할 때는 `<INPUT>`태그를 이용
  
 ![image](https://user-images.githubusercontent.com/85292541/206778890-12e975ff-c378-4c13-8f87-a14007cc3c5b.png)
  
